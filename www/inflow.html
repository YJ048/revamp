<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *">
    <link rel="stylesheet" type="text/css" href="css/inflow.css">
    <script>  
        function scan() {  
            cordova.plugins.barcodeScanner.scan(  
                function (result) {  
                    alert("We got a barcode\n" +  
                        "Result: " + result.text + "\n" +  
                        "Format: " + result.format + "\n" +  
                        "Cancelled: " + result.cancelled);  
                },  
                function (error) {  
                    alert("Scanning failed: " + error);  
                }  
            );  
        }  
    </script> 
    <title>Inflow</title>
</head>
<body>

    <p>Inflow Page</p>

    <nav class='menu'>
        <a href="inflow.html">+</a> &nbsp;
        <a href="outflow.html">-</a> &nbsp;
        <a href="history.html">History</a> &nbsp;
    </nav>

    <div data-role="page" id="home">
        <div data-role="header">
            <h1>Home</h1>
        </div>
    
        <div data-role="main" class="ui-content">
            <p>
                <a target="_blank" href="javascript:scan();" style="text-decoration: none"><button>Scan</button></a>
                <a target="_blank" href="#display" style="text-decoration: none"><button>Display Scanned Data</button></a>
                <button id="scan" onclick="scan()" style="width:100px; height: 30px;">Scan</button>
                <button id="scancode">Scan2</button>
                <!-- <button id = "cameraTakePicture">TAKE PICTURE</button> -->
            </p>
        </div>
    </div>

    <!-- BarcodeReader references -->   

    <!-- <script>
        cordova.plugins.barcodeScanner.scan(
            function (result) {
                if(!result.cancelled)
                {
                alert("Barcode type is: " + result.format);
                alert("Decoded text is: " + result.text);
                }
                else
                {
                alert("You have cancelled scan");
                }
            },
            function (error) {
                alert("Scanning failed: " + error);
            }
        );
    </script> -->
<!--
    <script>
        if(localStorage.getItem("LocalData") == null) {
            var data = [];
            data = JSON.stringify(data);
            localStorage.setItem("LocalData", data);
        }

        function scan()
        {
            cordova.plugins.barcodeScanner.scan(
                function (result) {
                    if(!result.cancelled) {
                        if(result.format == "QR_CODE") {
                            navigator.notification.prompt("Please enter name of data",  function(input){
                                var name = input.input1;
                                var value = result.text;

                                var data = localStorage.getItem("LocalData");
                                console.log(data);
                                data = JSON.parse(data);
                                data[data.length] = [name, value];

                                localStorage.setItem("LocalData", JSON.stringify(data));

                                alert("Done");
                            });
                        }
                    }
                },

                function (error) {
                    alert("Scanning failed: " + error);
                }
            );
        }
    </script>
-->
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
    <script src="scripts/platformOverrides.js"></script>  
    <script type="text/javascript" src="js/inflow.js"></script>
</body>
</html>